import 'package:insta/screen/signup_screen.dart';import 'package:flutter/material.dart';import 'package:insta/Util/colors.dart';import 'package:insta/Util/utils.dart';import 'package:insta/resources/auth_method.dart';import 'package:insta/widget/text_field_input.dart';import '../responsive/mobileScreenLayout.dart';import '../responsive/responsive_layout.dart';import '../responsive/webScreenLayout.dart';class LoginScreen extends StatefulWidget {  const LoginScreen({super.key});  @override  State<LoginScreen> createState() => _LoginScreenState();}class _LoginScreenState extends State<LoginScreen> {  final TextEditingController emailController=TextEditingController();  final TextEditingController passwordController=TextEditingController();  bool isLoading=false;  @override  void dispose() {    // TODO: implement dispose    super.dispose();    emailController.dispose();    passwordController.dispose();  }  void loginUser()async{    setState(() {      isLoading=true;    });    String res=await AuthMethod().loginUser(        email: emailController.text,        password: passwordController.text);    if(res=='Success'){     // Navigator.of(context as BuildContext).pushReplacement(MaterialPageRoute(builder: (context)=> Home()));      Navigator.pushReplacement(context, MaterialPageRoute(builder: (context)=> const ResponsiveLayout(mobileScreen: Mobile() ,webScreen: Web(),)));    }    else{      showSnackBar(context, res);    }    setState(() {      isLoading=false;    });  }  @override  Widget build(BuildContext context) {    return Scaffold(      body: SafeArea(        child: Container(          padding: const EdgeInsets.symmetric(horizontal: 32),          width: double.infinity,          child: Column(            crossAxisAlignment: CrossAxisAlignment.center,            children: [              Flexible(flex: 1,child: Container(),),            Image.asset('image/2.png',height: 64,),              const SizedBox(height: 64,),              TextFieldInput(                  textEditingController: emailController,                  hintText: 'Enter Your E-mail',                  textInputType:TextInputType.emailAddress),              const SizedBox(height: 10,),              TextFieldInput(                  textEditingController: passwordController,                  hintText: 'Enter Your Password',                  textInputType:TextInputType.text,                  isPass: true,),              const SizedBox(height: 20,),              InkWell(                onTap: (){                  loginUser();                },                child: Container(                  width: double.infinity,                  alignment: Alignment.center,                  padding: const EdgeInsets.symmetric(vertical: 20),                  decoration: const ShapeDecoration(                    shape:RoundedRectangleBorder(                      borderRadius: BorderRadius.all(                          Radius.circular(4)),                    ),                    color: Colors.blue,                  ),                  child: isLoading?const Center(child:CircularProgressIndicator(color: primaryColor,                  ),):const Text('Log in'),                ),              ),              const SizedBox(height: 12,),              Flexible(flex: 1,child: Container(),),              Row(                mainAxisAlignment: MainAxisAlignment.center,                children: [                  Container(                    padding: const EdgeInsets.symmetric(vertical: 8),                    child: const Text("Don't have an account? "),                  ),                  GestureDetector(                    onTap:(){                      Navigator.push(context, MaterialPageRoute(builder: (context)=>const SignUpScreen()));                      },                    child: Container(                      padding: const EdgeInsets.symmetric(vertical: 8),                      child: const Text('Sign Up',style: TextStyle(fontWeight: FontWeight.bold),),                    ),                  )                ],              )            ],          ),        ),      ),    );  }}